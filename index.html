<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Telex by datamachine</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Telex</h1>
        <p>Plugin-based Python Telegram Bot</p>

        <p class="view"><a href="https://github.com/datamachine/telex">View the Project on GitHub <small>datamachine/telex</small></a></p>


        <ul>
          <li><a href="https://github.com/datamachine/telex/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/datamachine/telex/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/datamachine/telex">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span class="octicon octicon-link"></span></a>About</h1>

<p>Telex is a telegram bot based on plugins. </p>

<p>This bot uses tg and tgl C libraries for its bindings, and we have been contributing our python bindings as we work through it.</p>

<p>Everything is being written for Python 3.4 currently. Everything works in a virtualenv installed and sourced in the launch script.</p>

<p>There are not a ton of useful plugins by default, but you can run <code>!pkg update</code> and then <code>!pkg list all</code> to see what plugins are available to install.</p>

<p>Some plugins require admin permissions. You can set an admin in permissions.conf using the following format</p>

<pre><code>[groups]
  admins = &lt;userid#&gt;,&lt;userid#&gt;,&lt;userid#&gt;
</code></pre>

<p>You can get your user id number by sending the following query to the bot</p>

<pre><code>!tginfo id
</code></pre>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>Steps:
1: Clone git repository.
2: Install dependencies
3: Install telex
4: Setup tg
5: Run telex</p>

<h4>
<a id="cloning-the-repository" class="anchor" href="#cloning-the-repository" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cloning the repository</h4>

<pre><code>git clone --recursive https://github.com/datamachine/telex.git &amp;&amp; cd telex
</code></pre>

<h4>
<a id="installing-dependencies" class="anchor" href="#installing-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing dependencies</h4>

<h5>
<a id="linux-and-bsds" class="anchor" href="#linux-and-bsds" aria-hidden="true"><span class="octicon octicon-link"></span></a>Linux and BSDs</h5>

<p>Install libs: readline, openssl and (if you want to use config) libconfig, liblua, python3-dev, python-virtualenv and libjansson.</p>

<p>Note: Installation was tested only on Ubuntu and Debian</p>

<h6>
<a id="on-ubuntudebian-use" class="anchor" href="#on-ubuntudebian-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>On Ubuntu/Debian use:</h6>

<pre><code>sudo apt-get install libreadline-dev libconfig-dev libssl-dev lua5.2 liblua5.2-dev libevent-dev libjansson-dev python3-dev python-virtualenv make 
</code></pre>

<h6>
<a id="on-gentoo" class="anchor" href="#on-gentoo" aria-hidden="true"><span class="octicon octicon-link"></span></a>On gentoo:</h6>

<pre><code>sudo emerge -av sys-libs/readline dev-libs/libconfig dev-libs/openssl dev-lang/lua dev-libs/libevent dev-libs/jansson dev-lang/python-3 dev-python/virtualenv 
</code></pre>

<h6>
<a id="on-fedora" class="anchor" href="#on-fedora" aria-hidden="true"><span class="octicon octicon-link"></span></a>On Fedora:</h6>

<pre><code>sudo yum install lua-devel openssl-devel libconfig-devel readline-devel libevent-devel libjansson-devel python3-devel python-virtualenv 
</code></pre>

<h6>
<a id="on-freebsd" class="anchor" href="#on-freebsd" aria-hidden="true"><span class="octicon octicon-link"></span></a>On FreeBSD:</h6>

<pre><code>pkg install libconfig libexecinfo lua52 python3 devel/py-virtualenv
</code></pre>

<h4>
<a id="installing-telex" class="anchor" href="#installing-telex" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing telex</h4>

<p>To install the bot, run the following in telex directory.</p>

<pre><code>./launch.sh install
</code></pre>

<h4>
<a id="setting-up-telegram-cli-verifying-phone-number" class="anchor" href="#setting-up-telegram-cli-verifying-phone-number" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setting up Telegram cli (verifying phone number)</h4>

<p>Do the following.</p>

<pre><code>cd tg
bin/telegram-cli -k tg-server.pub
</code></pre>

<p>It will ask for your phone number and confirmation code.
After successful verificaion of phone number, press Ctrl+C to stop telegram-cli.</p>

<h4>
<a id="running-telex" class="anchor" href="#running-telex" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running telex</h4>

<p>To start the bot, run the following in telex directory.</p>

<pre><code>./launch
</code></pre>

<h3>
<a id="running-bot-as-a-service" class="anchor" href="#running-bot-as-a-service" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running bot as a service</h3>

<p>If you have <a href="http://upstart.ubuntu.com/">upstart</a>, you can run the bot as a service by following the below procedure.</p>

<p>To check if you have upstart, just run </p>

<pre><code>sudo start
</code></pre>

<p>If output is something like this, then you have upstart.</p>

<pre><code>start: missing job name
Try `start --help' for more information.
</code></pre>

<p>Edit the config file.</p>

<pre><code>sed -i "s/yourusername/$(whoami)/g" temp/telex.conf
sed -i "s_telegrambotpath_$(pwd)_g" temp/telex.conf
sudo cp temp/telex.conf /etc/init/
sudo start telex # To start it
sudo stop telex # To stop it
</code></pre>

<h1>
<a id="notes" class="anchor" href="#notes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Notes</h1>

<p>While already very capable, this bot is still in relatively early development. Some plugin names, or plugin API calls may be modifed. However, we are starting to settle on our stable APIs.</p>

<p>With that said, we do strive to have the bot continue to function seemlessly when pulling the latest HEAD</p>

<h1>
<a id="contact" class="anchor" href="#contact" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contact</h1>

<p>The primary developers are Vince (<a href="https://github.com/Surye" class="user-mention">@Surye</a>) and Phillip (<a href="https://github.com/Tyrannosaurus" class="user-mention">@Tyrannosaurus</a>) and can be contacted directly through telegram.</p>

<p>You can also join our telegram group using the link: <a href="https://telegram.me/joinchat/05c5c2f60112fa104d1c0c563b2fd34a">https://telegram.me/joinchat/05c5c2f60112fa104d1c0c563b2fd34a</a></p>

<p>Bug reports and issues can be reported at: <a href="https://github.com/datamachine/telex/issues">https://github.com/datamachine/telex/issues</a></p>

<h1>
<a id="known-issues" class="anchor" href="#known-issues" aria-hidden="true"><span class="octicon octicon-link"></span></a>Known Issues</h1>

<h2>
<a id="not-recieving-telegram-verification-text-on-initial-launch" class="anchor" href="#not-recieving-telegram-verification-text-on-initial-launch" aria-hidden="true"><span class="octicon octicon-link"></span></a>Not recieving telegram verification text on initial launch</h2>

<p>Try running tg directly.</p>

<pre><code>$ tg/bin/telegram-cli -k tg-server.pub
</code></pre>

<p>Once you verify the client, you can stop it and run the launch.sh script again.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/datamachine">datamachine</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
